(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{391:function(v,s,_){"use strict";_.r(s);var t=_(29),a=Object(t.a)({},(function(){var v=this,s=v.$createElement,_=v._self._c||s;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"redis"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[v._v("#")]),v._v(" Redis")]),v._v(" "),_("hr"),v._v(" "),_("p"),_("div",{staticClass:"table-of-contents"},[_("ul",[_("li",[_("a",{attrs:{href:"#一、介绍"}},[v._v("一、介绍")])]),_("li",[_("a",{attrs:{href:"#二、跑起来"}},[v._v("二、跑起来")])]),_("li",[_("a",{attrs:{href:"#三、操作-redis"}},[v._v("三、操作 redis")])]),_("li",[_("a",{attrs:{href:"#四、数据类型"}},[v._v("四、数据类型")])]),_("li",[_("a",{attrs:{href:"#五、关键技术"}},[v._v("五、关键技术")])]),_("li",[_("a",{attrs:{href:"#六、最佳实践"}},[v._v("六、最佳实践")])]),_("li",[_("a",{attrs:{href:"#七、配置参数"}},[v._v("七、配置参数")])]),_("li",[_("a",{attrs:{href:"#八、专用名词"}},[v._v("八、专用名词")])]),_("li",[_("a",{attrs:{href:"#参考资料"}},[v._v("参考资料")])])])]),_("p"),v._v(" "),_("hr"),v._v(" "),_("h2",{attrs:{id:"一、介绍"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一、介绍"}},[v._v("#")]),v._v(" 一、介绍")]),v._v(" "),_("p",[v._v("1、express 介绍")]),v._v(" "),_("p",[v._v("redis 是一种基于键值对的 NoSQL 数据库，redis 中的值可以是 string、hash、list、set、zset(有序集合)、Bitmaps(位图)、GEO(地理信息定位) 等多种数据结构。")]),v._v(" "),_("p",[v._v("2、作者")]),v._v(" "),_("p",[v._v("2008 年，redis 作者是 Salvatore Sanifilippo 开发，为了实现高性能队列功能而开发了 redis。")]),v._v(" "),_("p",[v._v("3、特性")]),v._v(" "),_("ul",[_("li",[v._v("速度快：使用 c 语言实现，数据存放在内存中，单线程架构")]),v._v(" "),_("li",[v._v("基于键值对")]),v._v(" "),_("li",[v._v("持久化：通过 RDB 或 AOF 策略将内存数据复制到硬盘中")]),v._v(" "),_("li",[v._v("主从复制和分布式")])]),v._v(" "),_("p",[v._v("4、使用场景")]),v._v(" "),_("ul",[_("li",[v._v("缓存：加快数据访问速度，有效较低后端数据源压力。")]),v._v(" "),_("li",[v._v("排行榜系统：")]),v._v(" "),_("li",[v._v("计数器应用：如浏览器次数")]),v._v(" "),_("li",[v._v("社交网络")]),v._v(" "),_("li",[v._v("消息队列系统")])]),v._v(" "),_("h2",{attrs:{id:"二、跑起来"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#二、跑起来"}},[v._v("#")]),v._v(" 二、跑起来")]),v._v(" "),_("p",[v._v("1、安装")]),v._v(" "),_("div",{staticClass:"language-shell extra-class"},[_("pre",{pre:!0,attrs:{class:"language-shell"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[v._v("wget")]),v._v(" https://download.redis.io/releases/redis-6.2.6.tar.gz\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("tar")]),v._v(" xzf redis-6.2.6.tar.gz\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("ln")]),v._v(" -s redis-6.2.6 redis\n"),_("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("cd")]),v._v(" redis\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("make")]),v._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("make")]),v._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[v._v("install")]),v._v("\n")])])]),_("p",[v._v("2、启动")]),v._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[v._v("// 根据配置文件启动 redis\nredis-server /opt/redis/redis.conf\n")])])]),_("p",[v._v("3、连接 redis 服务")]),v._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[v._v("redis-cli -h 127.0.0.1 -p 6379\n")])])]),_("h2",{attrs:{id:"三、操作-redis"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三、操作-redis"}},[v._v("#")]),v._v(" 三、操作 redis")]),v._v(" "),_("p",[v._v("1、常用全局命令")]),v._v(" "),_("p",[v._v("查看所有键：keys *")]),v._v(" "),_("p",[v._v("键总数：dbsize")]),v._v(" "),_("p",[v._v("检查键是否存在：exists key")]),v._v(" "),_("p",[v._v("删除键：del key")]),v._v(" "),_("p",[v._v("键过期：expire key seconds")]),v._v(" "),_("p",[v._v("查看键值的数据类型：type key")]),v._v(" "),_("h2",{attrs:{id:"四、数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#四、数据类型"}},[v._v("#")]),v._v(" 四、数据类型")]),v._v(" "),_("p",[v._v("1、字符串类型：可以是字符串、数字、二进制，最大值不超过512M")]),v._v(" "),_("p",[v._v("使用场景：限速、缓存、计数、共享 Session")]),v._v(" "),_("p",[v._v("2、哈希类型：键值对的形式")]),v._v(" "),_("p",[v._v("3、列表类型：存储多个有序的字符串")]),v._v(" "),_("p",[v._v("使用场景：消息队列、文章列表")]),v._v(" "),_("p",[v._v("4、集合类型：保存多个不重复的字符串")]),v._v(" "),_("p",[v._v("使用场景：给用户添加标签")]),v._v(" "),_("p",[v._v("5、有序集合：根据指定字段排序的集合")]),v._v(" "),_("p",[v._v("应用场景：排行榜")]),v._v(" "),_("h2",{attrs:{id:"五、关键技术"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#五、关键技术"}},[v._v("#")]),v._v(" 五、关键技术")]),v._v(" "),_("p",[v._v("1、单线程")]),v._v(" "),_("ul",[_("li",[v._v("一条命令从客户端到达服务端不会立刻被执行，而是进入队列，然后逐个被执行")])]),v._v(" "),_("p",[v._v("2、持久化")]),v._v(" "),_("ul",[_("li",[v._v("RDB：是把当前进程数据生成快照保存到硬盘的过程，分为手动触发和自动触发(从节点执行全量复制、执行shutdown等)")]),v._v(" "),_("li",[v._v("AOF：以独立日志的方式记录每次写命令，重启时重新执行 AOF 文件中的命令达到恢复数据的目的")])]),v._v(" "),_("p",[v._v("3、复制")]),v._v(" "),_("ul",[_("li",[v._v("为了解决单点问题，将数据复制到多个副本部署到其它机器")])]),v._v(" "),_("p",[v._v("4、哨兵(Sentinel)")]),v._v(" "),_("ul",[_("li",[v._v("用来解决主从复制模式下，判断节点不可达；主节点挂掉，保证只有一个从节点成为主节点‘；通知客户端新的主节点")]),v._v(" "),_("li",[v._v("主节点选举：\n"),_("ul",[_("li",[v._v("从节点 a 发现主节点下线，向其它从节点发送命令，要求将自己设置为主节点")]),v._v(" "),_("li",[v._v("其它节点，如果没有同意过其它从节点的命令，就同意该命令，否则拒绝")]),v._v(" "),_("li",[v._v("如果节点 a 发现自己票数超过一半，就会成为主节点")]),v._v(" "),_("li",[v._v("否则进入下一次选举")])])])]),v._v(" "),_("h2",{attrs:{id:"六、最佳实践"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#六、最佳实践"}},[v._v("#")]),v._v(" 六、最佳实践")]),v._v(" "),_("p",[v._v("1、内存优化")]),v._v(" "),_("ul",[_("li",[v._v("缩减键和值的长度")]),v._v(" "),_("li",[v._v("减少对字符串的修改如 append、setrange，改为直接使用 set")]),v._v(" "),_("li",[v._v("优先使用整数，比字符串更节省空间")])]),v._v(" "),_("h2",{attrs:{id:"七、配置参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#七、配置参数"}},[v._v("#")]),v._v(" 七、配置参数")]),v._v(" "),_("p",[v._v("port：端口")]),v._v(" "),_("p",[v._v("logfile：日志文件")]),v._v(" "),_("p",[v._v("dir：工作目录，存放持久文件和日志文件")]),v._v(" "),_("p",[v._v("daemonize：是否以守护进程启动 redis")]),v._v(" "),_("h2",{attrs:{id:"八、专用名词"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#八、专用名词"}},[v._v("#")]),v._v(" 八、专用名词")]),v._v(" "),_("p",[v._v("热数据：指需要频繁操作的数据")]),v._v(" "),_("p",[v._v("冷数据：指通常不怎么操作的数据")]),v._v(" "),_("p",[v._v("慢查询分析：是指系统在命令执行前后计算每条命令的执行时间，当超过阈值，将这条命令的信息记录下来供分析。")]),v._v(" "),_("p",[v._v("事务：表示一组动作，要么全部执行，要么全部不执行。")]),v._v(" "),_("p",[v._v("集群：干同样事的，如一群厨师")]),v._v(" "),_("p",[v._v("分布式：分工合作，如厨师和配菜师")]),v._v(" "),_("h2",{attrs:{id:"参考资料"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[v._v("#")]),v._v(" 参考资料")]),v._v(" "),_("p",[v._v("《Redis 开发与运维》付磊、张益军")]),v._v(" "),_("p",[v._v("分布式与集群的区别是什么？ - 张鹏飞的回答 - 知乎 https://www.zhihu.com/question/20004877/answer/112124929")])])}),[],!1,null,null,null);s.default=a.exports}}]);